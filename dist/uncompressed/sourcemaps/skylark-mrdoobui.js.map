{"version":3,"sources":["skylark-mrdoobui.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../skylark-mrdoobui.js","sourcesContent":["define('skylark-mrdoobui/main',[\n\t\"skylark-langx-ns\"\n],function(skylark){\n\n\tvar UI = {};\n\n\tUI.Element = function ( dom ) {\n\n\t\tthis.dom = dom;\n\n\t};\n\n\tUI.Element.prototype = {\n\n\t\tadd: function () {\n\n\t\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tvar argument = arguments[ i ];\n\n\t\t\t\tif ( argument instanceof UI.Element ) {\n\n\t\t\t\t\tthis.dom.appendChild( argument.dom );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'UI.Element:', argument, 'is not an instance of UI.Element.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t},\n\n\t\tremove: function () {\n\n\t\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tvar argument = arguments[ i ];\n\n\t\t\t\tif ( argument instanceof UI.Element ) {\n\n\t\t\t\t\tthis.dom.removeChild( argument.dom );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'UI.Element:', argument, 'is not an instance of UI.Element.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t},\n\n\t\tclear: function () {\n\n\t\t\twhile ( this.dom.children.length ) {\n\n\t\t\t\tthis.dom.removeChild( this.dom.lastChild );\n\n\t\t\t}\n\n\t\t},\n\n\t\tsetId: function ( id ) {\n\n\t\t\tthis.dom.id = id;\n\n\t\t\treturn this;\n\n\t\t},\n\n\t\tsetClass: function ( name ) {\n\n\t\t\tthis.dom.className = name;\n\n\t\t\treturn this;\n\n\t\t},\n\n\t\tsetStyle: function ( style, array ) {\n\n\t\t\tfor ( var i = 0; i < array.length; i ++ ) {\n\n\t\t\t\tthis.dom.style[ style ] = array[ i ];\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t},\n\n\t\tsetDisabled: function ( value ) {\n\n\t\t\tthis.dom.disabled = value;\n\n\t\t\treturn this;\n\n\t\t},\n\n\t\tsetTextContent: function ( value ) {\n\n\t\t\tthis.dom.textContent = value;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t};\n\n\t// properties\n\n\tvar properties = [\n\t\t'position', 'left', 'top', 'right', 'bottom', 'width', 'height', 'display', 'overflow',\n\t\t'border', 'borderLeft', 'borderTop', 'borderRight', 'borderBottom', 'borderColor',\n\t\t'margin', 'marginLeft', 'marginTop', 'marginRight', 'marginBottom',\n\t\t'padding', 'paddingLeft', 'paddingTop', 'paddingRight', 'paddingBottom',\n\t\t'color', 'background', 'backgroundColor', 'opacity', 'verticalAlign',\n\t\t'fontSize', 'fontWeight', 'textAlign', 'textDecoration', 'textTransform', 'cursor', 'zIndex'\n\t];\n\n\tproperties.forEach( function ( property ) {\n\n\t\tvar method = 'set' + property.substr( 0, 1 ).toUpperCase() + property.substr( 1, property.length );\n\n\t\tUI.Element.prototype[ method ] = function () {\n\n\t\t\tthis.setStyle( property, arguments );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t} );\n\n\t// events\n\n\tvar events = [ 'KeyUp', 'KeyDown', 'MouseOver', 'MouseOut', 'Click', 'DblClick', 'Change' ];\n\n\tevents.forEach( function ( event ) {\n\n\t\tvar method = 'on' + event;\n\n\t\tUI.Element.prototype[ method ] = function ( callback ) {\n\n\t\t\tthis.dom.addEventListener( event.toLowerCase(), callback.bind( this ), false );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t} );\n\n\t// Span\n\n\tUI.Span = function () {\n\n\t\tUI.Element.call( this );\n\n\t\tthis.dom = document.createElement( 'span' );\n\n\t\treturn this;\n\n\t};\n\n\tUI.Span.prototype = Object.create( UI.Element.prototype );\n\tUI.Span.prototype.constructor = UI.Span;\n\n\t// Div\n\n\tUI.Div = function () {\n\n\t\tUI.Element.call( this );\n\n\t\tthis.dom = document.createElement( 'div' );\n\n\t\treturn this;\n\n\t};\n\n\tUI.Div.prototype = Object.create( UI.Element.prototype );\n\tUI.Div.prototype.constructor = UI.Div;\n\n\t// Row\n\n\tUI.Row = function () {\n\n\t\tUI.Element.call( this );\n\n\t\tvar dom = document.createElement( 'div' );\n\t\tdom.className = 'Row';\n\n\t\tthis.dom = dom;\n\n\t\treturn this;\n\n\t};\n\n\tUI.Row.prototype = Object.create( UI.Element.prototype );\n\tUI.Row.prototype.constructor = UI.Row;\n\n\t// Panel\n\n\tUI.Panel = function () {\n\n\t\tUI.Element.call( this );\n\n\t\tvar dom = document.createElement( 'div' );\n\t\tdom.className = 'Panel';\n\n\t\tthis.dom = dom;\n\n\t\treturn this;\n\n\t};\n\n\tUI.Panel.prototype = Object.create( UI.Element.prototype );\n\tUI.Panel.prototype.constructor = UI.Panel;\n\n\t// Text\n\n\tUI.Text = function ( text ) {\n\n\t\tUI.Element.call( this );\n\n\t\tvar dom = document.createElement( 'span' );\n\t\tdom.className = 'Text';\n\t\tdom.style.cursor = 'default';\n\t\tdom.style.display = 'inline-block';\n\t\tdom.style.verticalAlign = 'middle';\n\n\t\tthis.dom = dom;\n\t\tthis.setValue( text );\n\n\t\treturn this;\n\n\t};\n\n\tUI.Text.prototype = Object.create( UI.Element.prototype );\n\tUI.Text.prototype.constructor = UI.Text;\n\n\tUI.Text.prototype.getValue = function () {\n\n\t\treturn this.dom.textContent;\n\n\t};\n\n\tUI.Text.prototype.setValue = function ( value ) {\n\n\t\tif ( value !== undefined ) {\n\n\t\t\tthis.dom.textContent = value;\n\n\t\t}\n\n\t\treturn this;\n\n\t};\n\n\n\t// Input\n\n\tUI.Input = function ( text ) {\n\n\t\tUI.Element.call( this );\n\n\t\tvar scope = this;\n\n\t\tvar dom = document.createElement( 'input' );\n\t\tdom.className = 'Input';\n\t\tdom.style.padding = '2px';\n\t\tdom.style.border = '1px solid transparent';\n\n\t\tdom.addEventListener( 'keydown', function ( event ) {\n\n\t\t\tevent.stopPropagation();\n\n\t\t}, false );\n\n\t\tthis.dom = dom;\n\t\tthis.setValue( text );\n\n\t\treturn this;\n\n\t};\n\n\tUI.Input.prototype = Object.create( UI.Element.prototype );\n\tUI.Input.prototype.constructor = UI.Input;\n\n\tUI.Input.prototype.getValue = function () {\n\n\t\treturn this.dom.value;\n\n\t};\n\n\tUI.Input.prototype.setValue = function ( value ) {\n\n\t\tthis.dom.value = value;\n\n\t\treturn this;\n\n\t};\n\n\n\t// TextArea\n\n\tUI.TextArea = function () {\n\n\t\tUI.Element.call( this );\n\n\t\tvar scope = this;\n\n\t\tvar dom = document.createElement( 'textarea' );\n\t\tdom.className = 'TextArea';\n\t\tdom.style.padding = '2px';\n\t\tdom.spellcheck = false;\n\n\t\tdom.addEventListener( 'keydown', function ( event ) {\n\n\t\t\tevent.stopPropagation();\n\n\t\t\tif ( event.keyCode === 9 ) {\n\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tvar cursor = dom.selectionStart;\n\n\t\t\t\tdom.value = dom.value.substring( 0, cursor ) + '\\t' + dom.value.substring( cursor );\n\t\t\t\tdom.selectionStart = cursor + 1;\n\t\t\t\tdom.selectionEnd = dom.selectionStart;\n\n\t\t\t}\n\n\t\t}, false );\n\n\t\tthis.dom = dom;\n\n\t\treturn this;\n\n\t};\n\n\tUI.TextArea.prototype = Object.create( UI.Element.prototype );\n\tUI.TextArea.prototype.constructor = UI.TextArea;\n\n\tUI.TextArea.prototype.getValue = function () {\n\n\t\treturn this.dom.value;\n\n\t};\n\n\tUI.TextArea.prototype.setValue = function ( value ) {\n\n\t\tthis.dom.value = value;\n\n\t\treturn this;\n\n\t};\n\n\n\t// Select\n\n\tUI.Select = function () {\n\n\t\tUI.Element.call( this );\n\n\t\tvar scope = this;\n\n\t\tvar dom = document.createElement( 'select' );\n\t\tdom.className = 'Select';\n\t\tdom.style.padding = '2px';\n\n\t\tthis.dom = dom;\n\n\t\treturn this;\n\n\t};\n\n\tUI.Select.prototype = Object.create( UI.Element.prototype );\n\tUI.Select.prototype.constructor = UI.Select;\n\n\tUI.Select.prototype.setMultiple = function ( boolean ) {\n\n\t\tthis.dom.multiple = boolean;\n\n\t\treturn this;\n\n\t};\n\n\tUI.Select.prototype.setOptions = function ( options ) {\n\n\t\tvar selected = this.dom.value;\n\n\t\twhile ( this.dom.children.length > 0 ) {\n\n\t\t\tthis.dom.removeChild( this.dom.firstChild );\n\n\t\t}\n\n\t\tfor ( var key in options ) {\n\n\t\t\tvar option = document.createElement( 'option' );\n\t\t\toption.value = key;\n\t\t\toption.innerHTML = options[ key ];\n\t\t\tthis.dom.appendChild( option );\n\n\t\t}\n\n\t\tthis.dom.value = selected;\n\n\t\treturn this;\n\n\t};\n\n\tUI.Select.prototype.getValue = function () {\n\n\t\treturn this.dom.value;\n\n\t};\n\n\tUI.Select.prototype.setValue = function ( value ) {\n\n\t\tvalue = String( value );\n\n\t\tif ( this.dom.value !== value ) {\n\n\t\t\tthis.dom.value = value;\n\n\t\t}\n\n\t\treturn this;\n\n\t};\n\n\t// Checkbox\n\n\tUI.Checkbox = function ( boolean ) {\n\n\t\tUI.Element.call( this );\n\n\t\tvar scope = this;\n\n\t\tvar dom = document.createElement( 'input' );\n\t\tdom.className = 'Checkbox';\n\t\tdom.type = 'checkbox';\n\n\t\tthis.dom = dom;\n\t\tthis.setValue( boolean );\n\n\t\treturn this;\n\n\t};\n\n\tUI.Checkbox.prototype = Object.create( UI.Element.prototype );\n\tUI.Checkbox.prototype.constructor = UI.Checkbox;\n\n\tUI.Checkbox.prototype.getValue = function () {\n\n\t\treturn this.dom.checked;\n\n\t};\n\n\tUI.Checkbox.prototype.setValue = function ( value ) {\n\n\t\tif ( value !== undefined ) {\n\n\t\t\tthis.dom.checked = value;\n\n\t\t}\n\n\t\treturn this;\n\n\t};\n\n\n\t// Color\n\n\tUI.Color = function () {\n\n\t\tUI.Element.call( this );\n\n\t\tvar scope = this;\n\n\t\tvar dom = document.createElement( 'input' );\n\t\tdom.className = 'Color';\n\t\tdom.style.width = '64px';\n\t\tdom.style.height = '17px';\n\t\tdom.style.border = '0px';\n\t\tdom.style.padding = '2px';\n\t\tdom.style.backgroundColor = 'transparent';\n\n\t\ttry {\n\n\t\t\tdom.type = 'color';\n\t\t\tdom.value = '#ffffff';\n\n\t\t} catch ( exception ) {}\n\n\t\tthis.dom = dom;\n\n\t\treturn this;\n\n\t};\n\n\tUI.Color.prototype = Object.create( UI.Element.prototype );\n\tUI.Color.prototype.constructor = UI.Color;\n\n\tUI.Color.prototype.getValue = function () {\n\n\t\treturn this.dom.value;\n\n\t};\n\n\tUI.Color.prototype.getHexValue = function () {\n\n\t\treturn parseInt( this.dom.value.substr( 1 ), 16 );\n\n\t};\n\n\tUI.Color.prototype.setValue = function ( value ) {\n\n\t\tthis.dom.value = value;\n\n\t\treturn this;\n\n\t};\n\n\tUI.Color.prototype.setHexValue = function ( hex ) {\n\n\t\tthis.dom.value = '#' + ( '000000' + hex.toString( 16 ) ).slice( - 6 );\n\n\t\treturn this;\n\n\t};\n\n\n\t// Number\n\n\tUI.Number = function ( number ) {\n\n\t\tUI.Element.call( this );\n\n\t\tvar scope = this;\n\n\t\tvar dom = document.createElement( 'input' );\n\t\tdom.className = 'Number';\n\t\tdom.value = '0.00';\n\n\t\tdom.addEventListener( 'keydown', function ( event ) {\n\n\t\t\tevent.stopPropagation();\n\n\t\t\tif ( event.keyCode === 13 ) dom.blur();\n\n\t\t}, false );\n\n\t\tthis.value = 0;\n\n\t\tthis.min = - Infinity;\n\t\tthis.max = Infinity;\n\n\t\tthis.precision = 2;\n\t\tthis.step = 1;\n\t\tthis.unit = '';\n\n\t\tthis.dom = dom;\n\n\t\tthis.setValue( number );\n\n\t\tvar changeEvent = document.createEvent( 'HTMLEvents' );\n\t\tchangeEvent.initEvent( 'change', true, true );\n\n\t\tvar distance = 0;\n\t\tvar onMouseDownValue = 0;\n\n\t\tvar pointer = [ 0, 0 ];\n\t\tvar prevPointer = [ 0, 0 ];\n\n\t\tfunction onMouseDown( event ) {\n\n\t\t\tevent.preventDefault();\n\n\t\t\tdistance = 0;\n\n\t\t\tonMouseDownValue = scope.value;\n\n\t\t\tprevPointer = [ event.clientX, event.clientY ];\n\n\t\t\tdocument.addEventListener( 'mousemove', onMouseMove, false );\n\t\t\tdocument.addEventListener( 'mouseup', onMouseUp, false );\n\n\t\t}\n\n\t\tfunction onMouseMove( event ) {\n\n\t\t\tvar currentValue = scope.value;\n\n\t\t\tpointer = [ event.clientX, event.clientY ];\n\n\t\t\tdistance += ( pointer[ 0 ] - prevPointer[ 0 ] ) - ( pointer[ 1 ] - prevPointer[ 1 ] );\n\n\t\t\tvar value = onMouseDownValue + ( distance / ( event.shiftKey ? 5 : 50 ) ) * scope.step;\n\t\t\tvalue = Math.min( scope.max, Math.max( scope.min, value ) );\n\n\t\t\tif ( currentValue !== value ) {\n\n\t\t\t\tscope.setValue( value );\n\t\t\t\tdom.dispatchEvent( changeEvent );\n\n\t\t\t}\n\n\t\t\tprevPointer = [ event.clientX, event.clientY ];\n\n\t\t}\n\n\t\tfunction onMouseUp( event ) {\n\n\t\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\n\t\t\tif ( Math.abs( distance ) < 2 ) {\n\n\t\t\t\tdom.focus();\n\t\t\t\tdom.select();\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onChange( event ) {\n\n\t\t\tscope.setValue( dom.value );\n\n\t\t}\n\n\t\tfunction onFocus( event ) {\n\n\t\t\tdom.style.backgroundColor = '';\n\t\t\tdom.style.cursor = '';\n\n\t\t}\n\n\t\tfunction onBlur( event ) {\n\n\t\t\tdom.style.backgroundColor = 'transparent';\n\t\t\tdom.style.cursor = 'col-resize';\n\n\t\t}\n\n\t\tonBlur();\n\n\t\tdom.addEventListener( 'mousedown', onMouseDown, false );\n\t\tdom.addEventListener( 'change', onChange, false );\n\t\tdom.addEventListener( 'focus', onFocus, false );\n\t\tdom.addEventListener( 'blur', onBlur, false );\n\n\t\treturn this;\n\n\t};\n\n\tUI.Number.prototype = Object.create( UI.Element.prototype );\n\tUI.Number.prototype.constructor = UI.Number;\n\n\tUI.Number.prototype.getValue = function () {\n\n\t\treturn this.value;\n\n\t};\n\n\tUI.Number.prototype.setValue = function ( value ) {\n\n\t\tif ( value !== undefined ) {\n\n\t\t\tvalue = parseFloat( value );\n\n\t\t\tif ( value < this.min ) value = this.min;\n\t\t\tif ( value > this.max ) value = this.max;\n\n\t\t\tthis.value = value;\n\t\t\tthis.dom.value = value.toFixed( this.precision );\n\n\t\t\tif ( this.unit !== '' ) this.dom.value += ' ' + this.unit;\n\n\t\t}\n\n\t\treturn this;\n\n\t};\n\n\tUI.Number.prototype.setPrecision = function ( precision ) {\n\n\t\tthis.precision = precision;\n\n\t\treturn this;\n\n\t};\n\n\tUI.Number.prototype.setStep = function ( step ) {\n\n\t\tthis.step = step;\n\n\t\treturn this;\n\n\t};\n\n\tUI.Number.prototype.setRange = function ( min, max ) {\n\n\t\tthis.min = min;\n\t\tthis.max = max;\n\n\t\treturn this;\n\n\t};\n\n\tUI.Number.prototype.setUnit = function ( unit ) {\n\n\t\tthis.unit = unit;\n\n\t\treturn this;\n\n\t};\n\n\t// Integer\n\n\tUI.Integer = function ( number ) {\n\n\t\tUI.Element.call( this );\n\n\t\tvar scope = this;\n\n\t\tvar dom = document.createElement( 'input' );\n\t\tdom.className = 'Number';\n\t\tdom.value = '0';\n\n\t\tdom.addEventListener( 'keydown', function ( event ) {\n\n\t\t\tevent.stopPropagation();\n\n\t\t}, false );\n\n\t\tthis.value = 0;\n\n\t\tthis.min = - Infinity;\n\t\tthis.max = Infinity;\n\n\t\tthis.step = 1;\n\n\t\tthis.dom = dom;\n\n\t\tthis.setValue( number );\n\n\t\tvar changeEvent = document.createEvent( 'HTMLEvents' );\n\t\tchangeEvent.initEvent( 'change', true, true );\n\n\t\tvar distance = 0;\n\t\tvar onMouseDownValue = 0;\n\n\t\tvar pointer = [ 0, 0 ];\n\t\tvar prevPointer = [ 0, 0 ];\n\n\t\tfunction onMouseDown( event ) {\n\n\t\t\tevent.preventDefault();\n\n\t\t\tdistance = 0;\n\n\t\t\tonMouseDownValue = scope.value;\n\n\t\t\tprevPointer = [ event.clientX, event.clientY ];\n\n\t\t\tdocument.addEventListener( 'mousemove', onMouseMove, false );\n\t\t\tdocument.addEventListener( 'mouseup', onMouseUp, false );\n\n\t\t}\n\n\t\tfunction onMouseMove( event ) {\n\n\t\t\tvar currentValue = scope.value;\n\n\t\t\tpointer = [ event.clientX, event.clientY ];\n\n\t\t\tdistance += ( pointer[ 0 ] - prevPointer[ 0 ] ) - ( pointer[ 1 ] - prevPointer[ 1 ] );\n\n\t\t\tvar value = onMouseDownValue + ( distance / ( event.shiftKey ? 5 : 50 ) ) * scope.step;\n\t\t\tvalue = Math.min( scope.max, Math.max( scope.min, value ) ) | 0;\n\n\t\t\tif ( currentValue !== value ) {\n\n\t\t\t\tscope.setValue( value );\n\t\t\t\tdom.dispatchEvent( changeEvent );\n\n\t\t\t}\n\n\t\t\tprevPointer = [ event.clientX, event.clientY ];\n\n\t\t}\n\n\t\tfunction onMouseUp( event ) {\n\n\t\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\n\t\t\tif ( Math.abs( distance ) < 2 ) {\n\n\t\t\t\tdom.focus();\n\t\t\t\tdom.select();\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onChange( event ) {\n\n\t\t\tscope.setValue( dom.value );\n\n\t\t}\n\n\t\tfunction onFocus( event ) {\n\n\t\t\tdom.style.backgroundColor = '';\n\t\t\tdom.style.cursor = '';\n\n\t\t}\n\n\t\tfunction onBlur( event ) {\n\n\t\t\tdom.style.backgroundColor = 'transparent';\n\t\t\tdom.style.cursor = 'col-resize';\n\n\t\t}\n\n\t\tonBlur();\n\n\t\tdom.addEventListener( 'mousedown', onMouseDown, false );\n\t\tdom.addEventListener( 'change', onChange, false );\n\t\tdom.addEventListener( 'focus', onFocus, false );\n\t\tdom.addEventListener( 'blur', onBlur, false );\n\n\t\treturn this;\n\n\t};\n\n\tUI.Integer.prototype = Object.create( UI.Element.prototype );\n\tUI.Integer.prototype.constructor = UI.Integer;\n\n\tUI.Integer.prototype.getValue = function () {\n\n\t\treturn this.value;\n\n\t};\n\n\tUI.Integer.prototype.setValue = function ( value ) {\n\n\t\tif ( value !== undefined ) {\n\n\t\t\tvalue = parseInt( value );\n\n\t\t\tthis.value = value;\n\t\t\tthis.dom.value = value;\n\n\t\t}\n\n\t\treturn this;\n\n\t};\n\n\tUI.Integer.prototype.setStep = function ( step ) {\n\n\t\tthis.step = parseInt( step );\n\n\t\treturn this;\n\n\t};\n\n\tUI.Integer.prototype.setRange = function ( min, max ) {\n\n\t\tthis.min = min;\n\t\tthis.max = max;\n\n\t\treturn this;\n\n\t};\n\n\n\t// Break\n\n\tUI.Break = function () {\n\n\t\tUI.Element.call( this );\n\n\t\tvar dom = document.createElement( 'br' );\n\t\tdom.className = 'Break';\n\n\t\tthis.dom = dom;\n\n\t\treturn this;\n\n\t};\n\n\tUI.Break.prototype = Object.create( UI.Element.prototype );\n\tUI.Break.prototype.constructor = UI.Break;\n\n\n\t// HorizontalRule\n\n\tUI.HorizontalRule = function () {\n\n\t\tUI.Element.call( this );\n\n\t\tvar dom = document.createElement( 'hr' );\n\t\tdom.className = 'HorizontalRule';\n\n\t\tthis.dom = dom;\n\n\t\treturn this;\n\n\t};\n\n\tUI.HorizontalRule.prototype = Object.create( UI.Element.prototype );\n\tUI.HorizontalRule.prototype.constructor = UI.HorizontalRule;\n\n\n\t// Button\n\n\tUI.Button = function ( value ) {\n\n\t\tUI.Element.call( this );\n\n\t\tvar dom = document.createElement( 'button' );\n\t\tdom.className = 'Button';\n\n\t\tthis.dom = dom;\n\t\tthis.dom.textContent = value;\n\n\t\treturn this;\n\n\t};\n\n\tUI.Button.prototype = Object.create( UI.Element.prototype );\n\tUI.Button.prototype.constructor = UI.Button;\n\n\tUI.Button.prototype.setLabel = function ( value ) {\n\n\t\tthis.dom.textContent = value;\n\n\t\treturn this;\n\n\t};\n\n\n\t// Modal\n\n\tUI.Modal = function ( value ) {\n\n\t\tvar scope = this;\n\n\t\tvar dom = document.createElement( 'div' );\n\n\t\tdom.style.position = 'absolute';\n\t\tdom.style.width = '100%';\n\t\tdom.style.height = '100%';\n\t\tdom.style.backgroundColor = 'rgba(0,0,0,0.5)';\n\t\tdom.style.display = 'none';\n\t\tdom.style.alignItems = 'center';\n\t\tdom.style.justifyContent = 'center';\n\t\tdom.addEventListener( 'click', function ( event ) {\n\n\t\t\tscope.hide();\n\n\t\t} );\n\n\t\tthis.dom = dom;\n\n\t\tthis.container = new UI.Panel();\n\t\tthis.container.dom.style.width = '200px';\n\t\tthis.container.dom.style.padding = '20px';\n\t\tthis.container.dom.style.backgroundColor = '#ffffff';\n\t\tthis.container.dom.style.boxShadow = '0px 5px 10px rgba(0,0,0,0.5)';\n\n\t\tthis.add( this.container );\n\n\t\treturn this;\n\n\t};\n\n\tUI.Modal.prototype = Object.create( UI.Element.prototype );\n\tUI.Modal.prototype.constructor = UI.Modal;\n\n\tUI.Modal.prototype.show = function ( content ) {\n\n\t\tthis.container.clear();\n\t\tthis.container.add( content );\n\n\t\tthis.dom.style.display = 'flex';\n\n\t\treturn this;\n\n\t};\n\n\tUI.Modal.prototype.hide = function () {\n\n\t\tthis.dom.style.display = 'none';\n\n\t\treturn this;\n\n\t};\n\n\treturn skylark.attach(\"intg.mrdoobui\",UI);\n\n});\n\ndefine('skylark-mrdoobui', ['skylark-mrdoobui/main'], function (main) { return main; });\n\n"]}